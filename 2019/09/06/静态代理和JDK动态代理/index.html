<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content>
  <meta name="author" content="Mr Wang">
  <!-- Open Graph Data -->
  <meta property="og:title" content="é™æ€ä»£ç†å’ŒJDKåŠ¨æ€ä»£ç†">
  <meta property="og:description" content>
  <meta property="og:site_name" content="æ˜¥é£ä¸åŠä½ çš„ç¾ğŸ·">
  <meta property="og:type" content="article">
  <meta property="og:image" content="http://yoursite.com">
  
    <link rel="alternate" href="/atom.xml" title="æ˜¥é£ä¸åŠä½ çš„ç¾ğŸ·" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>æ˜¥é£ä¸åŠä½ çš„ç¾ğŸ·</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">é™æ€ä»£ç†å’ŒJDKåŠ¨æ€ä»£ç†</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/<your-github-username>">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:<your-email-address>">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By Mr Wang</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2019-09-06</span>
            <span class="time">19:07:11</span>
          </span>
          
        </div>
        <!-- Tags -->
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>ä»£ç†æ¨¡å¼åˆ†é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†.åœ¨ç¨‹åºè¿è¡Œå‰,ç¼–è¯‘å¥½çš„ä»£ç†ç±»ç§°ä¸ºé™æ€ä»£ç†.åœ¨ç¨‹åºè¿è¡ŒæœŸé—´åŠ¨æ€åˆ›å»ºä»£ç†ç±»,æ¥å®Œæˆå…·ä½“åŠŸèƒ½,å«åŠ¨æ€ä»£ç†.</p>
<p><strong>é™æ€ä»£ç†</strong><br>é™æ€ä»£ç†çš„å®ç°åˆ†ä¸‰æ­¥:<br>1.å®šä¹‰ä¸šåŠ¡æ¥å£<br>2.å®ç°ä¸šåŠ¡æ¥å£<br>3.å®šä¹‰ä»£ç†ç±»,å¹¶å®ç°ä¸šåŠ¡æ¥å£<br>ä»£ç å¦‚ä¸‹:<br>å®šä¹‰æ¥å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">public interface BuyHouse &#123;</span><br><span class="line">    //ä¸šåŠ¡ï¼Œè°ä¹°äº†æˆ¿å­?</span><br><span class="line">    public String buy(String name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰å®ç°ç±»</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseImpl</span><br><span class="line"> * @Description TODO</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:29</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:29</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseImpl implements BuyHouse &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String buy(String name) &#123;</span><br><span class="line">        System.out.println(name + &quot;ä¹°å®Œæˆ¿å­&quot;);</span><br><span class="line">        return name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰ä»£ç†ç±»</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseProxy</span><br><span class="line"> * @Description TODO</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:33</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:33</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseProxy implements BuyHouse &#123;</span><br><span class="line">    private BuyHouseImpl buyHouse;</span><br><span class="line"></span><br><span class="line">    public BuyHouseProxy(BuyHouseImpl buyHouse) &#123;</span><br><span class="line">        this.buyHouse = buyHouse;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String buy(String name) &#123;</span><br><span class="line">        System.out.println(&quot;æˆ‘æ˜¯ä»£ç†,å¤„ç†å‰===============&quot;);</span><br><span class="line">        String result = buyHouse.buy(name);</span><br><span class="line">        System.out.println(&quot;æˆ‘æ˜¯ä»£ç†,å¤„ç†å===============&quot;);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseTest</span><br><span class="line"> * @Description TODO</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:37</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:37</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseTest &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        BuyHouseImpl buyHouse = new BuyHouseImpl();</span><br><span class="line">        BuyHouseProxy buyHouseProxy = new BuyHouseProxy(buyHouse);</span><br><span class="line">        buyHouseProxy.buy(&quot;wy&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘æ˜¯ä»£ç†,å¤„ç†å‰===============</span><br><span class="line">wyä¹°å®Œæˆ¿å­</span><br><span class="line">æˆ‘æ˜¯ä»£ç†,å¤„ç†å===============</span><br></pre></td></tr></table></figure>

<p><strong>JDKåŠ¨æ€ä»£ç†</strong><br>JDKåŠ¨æ€ä»£ç†çš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š<br>1.åˆ›å»ºä¸šåŠ¡æ¥å£<br>2.åˆ›å»ºä¸šåŠ¡æ¥å£å®ç°ç±»<br>3.åˆ›å»ºä»£ç†ç±»,å®ç°InvocationHandleræ¥å£<br>ä»£ç å¦‚ä¸‹:</p>
<p>åˆ›å»ºä¸šåŠ¡æ¥å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">public interface BuyHouse &#123;</span><br><span class="line">    public String buy(String name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°ä¸šåŠ¡æ¥å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseImpl</span><br><span class="line"> * @Description TODO</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:29</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:29</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseImpl implements BuyHouse &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String buy(String name) &#123;</span><br><span class="line">        System.out.println(name + &quot;ä¹°å®Œæˆ¿å­&quot;);</span><br><span class="line">        return name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä»£ç†ç±»,å®ç°InvocationHandleræ¥å£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.InvocationHandler;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName MyInvocationHandler</span><br><span class="line"> * @Description TODO</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:55</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:55</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class MyInvocationHandler implements InvocationHandler &#123;</span><br><span class="line">    /**</span><br><span class="line">     * çœŸå®ä¸šåŠ¡å¯¹è±¡</span><br><span class="line">     */</span><br><span class="line">    private Object target;</span><br><span class="line"></span><br><span class="line">    public MyInvocationHandler(Object target) &#123;</span><br><span class="line">        this.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * è·å–çœŸå®ä¸šåŠ¡å¯¹è±¡</span><br><span class="line">     *</span><br><span class="line">     * @return</span><br><span class="line">     * @throws Throwable</span><br><span class="line">     */</span><br><span class="line">    public Object getProxy() throws Throwable &#123;</span><br><span class="line">        return Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), this);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;è°ƒç”¨&quot;+method.getName()+&quot;æ–¹æ³•å‰=============&quot;);</span><br><span class="line">        /**</span><br><span class="line">         * åå°„è°ƒç”¨ï¼Œç›®æ ‡æ–¹æ³•</span><br><span class="line">         */</span><br><span class="line">        Object result = method.invoke(target, args);</span><br><span class="line">        System.out.println(&quot;è°ƒç”¨&quot;+method.getName()+&quot;æ–¹æ³•å=============&quot;);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–å†™æµ‹è¯•ç±»</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseTest</span><br><span class="line"> * @Description TODO</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:37</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:37</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseTest &#123;</span><br><span class="line">    public static void main(String[] args) throws Throwable &#123;</span><br><span class="line"></span><br><span class="line">        BuyHouse proxy= (BuyHouse) new MyInvocationHandler(new BuyHouseImpl()).getProxy();</span><br><span class="line">        proxy.buy(&quot;wy&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è°ƒç”¨buyæ–¹æ³•å‰=============</span><br><span class="line">wyä¹°å®Œæˆ¿å­</span><br><span class="line">è°ƒç”¨buyæ–¹æ³•å=============</span><br></pre></td></tr></table></figure>

<p><strong>cglibåŠ¨æ€ä»£ç†(ç¬¬ä¸‰æ–¹åŒ…)</strong><br>cglibåŠ¨æ€ä»£ç†çš„ä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š<br>1.åˆ›å»ºä¸šåŠ¡ç±»(æ²¡æœ‰æ¥å£)<br>2.åˆ›å»ºä»£ç†ç±»,å®ç°MethodInterceptor<br>ä»£ç å¦‚ä¸‹:<br>ä¸šåŠ¡ç±»:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseImpl</span><br><span class="line"> * @Description å¦‚æœç±»æ˜¯finalçš„ï¼Œåˆ™æ²¡æ³•ç”Ÿæˆä»£ç†å¯¹è±¡ï¼ŒæŠ¥é”™ã€‚</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:29</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:29</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseImpl &#123;</span><br><span class="line">    public String buy(String name) &#123;</span><br><span class="line">        System.out.println(name + &quot;ä¹°å®Œæˆ¿å­&quot;);</span><br><span class="line">        return name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä»£ç†ç±»,å®ç°MethodInterceptor</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">import net.sf.cglib.proxy.Enhancer;</span><br><span class="line">import net.sf.cglib.proxy.MethodInterceptor;</span><br><span class="line">import net.sf.cglib.proxy.MethodProxy;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseByCglibProxy</span><br><span class="line"> * @Description ä½¿ç”¨CglibåŠ¨æ€ä»£ç†</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 14:32</span><br><span class="line"> * @ModifyDate 2019/9/6Â 14:32</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseByCglibProxy implements MethodInterceptor &#123;</span><br><span class="line">    private Object target;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * åˆ›å»ºä»£ç†å®ä¾‹</span><br><span class="line">     *</span><br><span class="line">     * @param target</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public Object getInstance(Object target) &#123;</span><br><span class="line">        this.target = target;</span><br><span class="line">        Enhancer enhancer = new Enhancer();</span><br><span class="line">        enhancer.setSuperclass(this.target.getClass());</span><br><span class="line">        /**</span><br><span class="line">         * è®¾ç½®å›è°ƒæ–¹æ³•</span><br><span class="line">         */</span><br><span class="line">        enhancer.setCallback(this);</span><br><span class="line">        /**</span><br><span class="line">         * åˆ›å»ºä»£ç†å¯¹è±¡</span><br><span class="line">         */</span><br><span class="line">        return enhancer.create();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object intercept(Object o, Method method, Object[] objects, MethodProxy methodProxy) throws Throwable &#123;</span><br><span class="line">        System.out.println(&quot;è°ƒç”¨&quot; + method.getName() + &quot;æ–¹æ³•å‰=============&quot;);</span><br><span class="line">        Object result = methodProxy.invokeSuper(o, objects);</span><br><span class="line">        System.out.println(&quot;è°ƒç”¨&quot; + method.getName() + &quot;æ–¹æ³•å‰=============&quot;);</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">package com.example.demo.proxy;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName BuyHouseTest</span><br><span class="line"> * @Description TODO</span><br><span class="line"> * @Author ç‹ç‚</span><br><span class="line"> * @Date 2019/9/6Â 13:37</span><br><span class="line"> * @ModifyDate 2019/9/6Â 13:37</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> */</span><br><span class="line">public class BuyHouseTest &#123;</span><br><span class="line">    public static void main(String[] args) throws Throwable &#123;</span><br><span class="line"></span><br><span class="line">        BuyHouseByCglibProxy buyHouseByCglibProxy=new BuyHouseByCglibProxy();</span><br><span class="line"></span><br><span class="line">        BuyHouseImpl instance =(BuyHouseImpl)buyHouseByCglibProxy.getInstance(new BuyHouseImpl());</span><br><span class="line"></span><br><span class="line">        instance.buy(&quot;wy&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è°ƒç”¨buyæ–¹æ³•å‰=============</span><br><span class="line">wyä¹°å®Œæˆ¿å­</span><br><span class="line">è°ƒç”¨buyæ–¹æ³•å‰=============</span><br></pre></td></tr></table></figure>

<hr>
<p>ä¼˜ç¼ºç‚¹</p>
<pre><code>jdké™æ€ä»£ç†ç±»åªèƒ½ä¸ºä¸€ä¸ªè¢«ä»£ç†ç±»æœåŠ¡ï¼Œå¦‚æœéœ€è¦ä»£ç†çš„ç±»æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆä¼šäº§ç”Ÿè¿‡å¤šçš„ä»£ç†ç±»ã€‚jdké™æ€ä»£ç†åœ¨ç¼–è¯‘æ—¶äº§ç”Ÿclassæ–‡ä»¶ï¼Œè¿è¡Œæ—¶æ— éœ€äº§ç”Ÿï¼Œå¯ç›´æ¥ä½¿ç”¨ï¼Œæ•ˆç‡å¥½ã€‚

jdkåŠ¨æ€ä»£ç†å¿…é¡»å®ç°æ¥å£ï¼Œé€šè¿‡åå°„æ¥åŠ¨æ€ä»£ç†æ–¹æ³•ï¼Œæ¶ˆè€—ç³»ç»Ÿæ€§èƒ½ã€‚ä½†æ˜¯æ— éœ€äº§ç”Ÿè¿‡å¤šçš„ä»£ç†ç±»ï¼Œé¿å…äº†é‡å¤ä»£ç çš„äº§ç”Ÿï¼Œç³»ç»Ÿæ›´åŠ çµæ´»ã€‚

cglibåŠ¨æ€ä»£ç†æ— éœ€å®ç°æ¥å£ï¼Œé€šè¿‡ç”Ÿæˆå­ç±»å­—èŠ‚ç æ¥å®ç°ï¼Œæ¯”åå°„å¿«ä¸€ç‚¹ï¼Œæ²¡æœ‰æ€§èƒ½é—®é¢˜ã€‚ä½†æ˜¯ç”±äºcglibä¼šç»§æ‰¿è¢«ä»£ç†ç±»ï¼Œéœ€è¦é‡å†™è¢«ä»£ç†æ–¹æ³•ï¼Œæ‰€ä»¥è¢«ä»£ç†ç±»ä¸èƒ½æ˜¯finalç±»ï¼Œè¢«ä»£ç†æ–¹æ³•ä¸èƒ½æ˜¯finalã€‚</code></pre>
        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a>
          Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

